{"version":3,"sources":["../../js/src/FilterPanel.js","../../js/src/OptionsPanel.js","../../js/src/removeElement.js","../../js/src/PicksPanel.js","../../js/src/MultiSelectInputAspect.js","../../js/src/MultiSelect.js","../../js/src/EventSkipper.js","../../js/src/PlaceholderAsInputAspect.js","../../js/src/Tools.js","../../js/src/DomTools.js","../../js/src/Bs4StylingMethodCss.js","../../js/src/Bs4StylingMethodJs.js","../../js/src/Bs4Styling.js","../../js/src/Bs4SelectedItemContent.js","../../js/src/Bs4DropDownItemContent.js","../../js/src/BsMultiSelect.js","../../js/src/ContainerAdapter.js","../../js/src/AddToJQueryPrototype.js","../../js/src/OptionsAdapters.js","../../js/src/LabelAdapter.js"],"names":["FilterPanel","createElement","insertIntoDom","onFocusIn","onFocusOut","onKeyDownArrowUp","onKeyDownArrowDown","onTabForEmpty","onBackspace","onEnterOrTabToCompleate","onKeyDownEsc","onKeyUpEsc","onInput","setEmptyLength","s","inputElement","setAttribute","style","border","padding","outline","backgroundColor","onfilterInputKeyDown","event","indexOf","which","value","preventDefault","onFilterInputKeyUp","onFilterInputInput","filterInputValue","width","length","addEventListener","isEmpty","setEmpty","setFocus","focus","isEventTarget","target","dispose","removeEventListener","OptionsPanel","dropDownMenu","onShow","onHide","eventSkipper","dropDownItemContent","styling","getVisibleMultiSelectDataList","resetFilter","updateDropDownLocation","filterPanelSetFocus","listStyleType","hoveredMultiSelectData","hoveredMultiSelectDataIndex","candidateToHoveredMultiSelectData","hideDropDown","resetCandidateToHoveredMultiSelectData","display","showDropDown","setSkippable","hoverInInternal","index","HoverIn","dropDownMenuItemElement","resetDropDownMenuHover","HoverOut","processCandidateToHovered","visibleIndex","stopAndResetDropDownMenuHover","toggleHovered","toggle","keyDownArrow","down","visibleMultiSelectDataList","newIndex","i","visible","insertDropDownItem","MultiSelectData","createSelectedItemGen","setSelected","triggerChange","isSelected","isOptionDisabled","onDropDownMenuItemElementMouseover","isSkippable","onDropDownMenuItemElementMouseleave","appendChild","content","option","setDropDownItemContentDisabled","disabledStyle","disable","createSelectedItem","DropDownItemContent","DisposeDropDownMenuItemElement","onSelected","excludedFromSearch","confirmed","getIsVisble","removeElement","e","parentNode","removeChild","PicksPanel","picksElement","init","selectedItemContent","isComponentDisabled","onRemove","onClick","onPicksEmptyChanged","processRemoveButtonClick","picksCount","flexWrap","inputItemElement","MultiSelectDataSelectedTail","selectedPanelClick","iterateAll","isDisabled","selectedPrev","insert","selectedItemElement","this","selectedPanel","insertBefore","selectedNext","removeSelectedItem","select","SelectedItemContent","removeSelectedTail","resetMultiSelectDataSelectedTail","enable","toRemove","firstChild","MultiSelectInputAspect","window","appendToContainer","filterInputItem","optionsElement","hideDropDownAndResetFilter","isDropDownMenuEmpty","Popper","skipoutMousedown","skipFocusout","documentMouseup","contains","document","popper","placement","modifiers","preventOverflow","enabled","hide","flip","filterInputItemOffsetLeft","preventDefaultClickEvent","alignToFilterInputItemLocation","force","offsetLeft","update","destroy","alignAndShowDropDown","processUncheck","uncheckOption","setTimeout","onDropDownShow","onDropDownHide","getSkipFocusout","resetSkipFocusout","filterMultiSelectData","isFiltered","MultiSelect","optionsAdapter","containerAdapter","labelAdapter","createStylingComposite","placeholderText","configuration","onUpdate","onDispose","TypeError","visibleCount","optionsPanel","stylingComposite","resetMultiSelectDataList","MultiSelectDataList","filteredMultiSelectDataList","filterPanel","processEmptyInput","placeholderAspect","updatePlacehodlerVisibility","multiSelectData","isHidden","resetDropDownMenu","GetContainer","container","Update","UpdateDisabled","UpdateData","DeselectAll","SelectAll","empty","picksPanel","updateDataImpl","createDropDownItems","options","_this","getOptions","selected","disabled","hidden","searchText","text","toLowerCase","trim","remove","removeDropDownMenuItemElement","push","p1","p2","p3","o","aspect","readyState","createDropDownItemsHandler","Dispose","getDisabled","setDisabled","Disable","Enable","input","resetLength","list","j","collectFilterDropDownMenu","fullMatchMultiSelectData","name","picksIsEmpty","filterIsEmpty","_this2","lazyfilterItemInputElementAtach","setEmptyInputWidth","isVisible","showPlacehodler","placeholder","filterItemInputElement","filterItemElement","FocusIn","FocusOut","stopPropagation","updateEmptyInputWidth","doUncheck","placeholderItemElement","Init","attachContainer","subscribeToReset","ExtendIfUndefined","destination","source","property","undefined","addClass","element","classes","modifyClass","classList","add","removeClass","modify","Array","isArray","forEach","split","bs4StylingMethodCssDefaults","selectedPanelFocusClass","selectedPanelDisabledClass","bs4StylingMethodJsDefaults","selectedPanelDefMinHeight","selectedPanelLgMinHeight","selectedPanelSmMinHeight","selectedPanelDisabledBackgroundColor","selectedPanelFocusBorderColor","selectedPanelFocusBoxShadow","selectedPanelFocusValidBoxShadow","selectedPanelFocusInvalidBoxShadow","filterInputColor","filterInputFontWeight","Bs4StylingMethodJs","OnInit","composite","marginBottom","height","filterInput","color","fontWeight","boxShadow","borderColor","MultiSelectÐ¡lassesDefaults","containerClass","dropDownMenuClass","dropDownItemClass","dropDownItemHoverClass","dropDownItemSelectedClass","dropDownItemDisabledClass","selectedPanelClass","selectedItemClass","selectedItemDisabledClass","removeSelectedItemButtonClass","selectedItemFilterClass","filterInputClass","bs4StylingMethodCssdefaults","selectedItemContentDisabledClass","defSelectedItemStyle","padding-left","line-height","defRemoveSelectedItemButtonStyle","font-size","selectedItemContentDisabledOpacity","bs4SelectedItemContentDefaults","checkBoxDisabledClass","checkBoxLabelDisabledColor","$","bs4DropDownItemContentDefaults","ContainerAdapter","selectElement","containerElement","ownContainerElement","ownPicksElement","backupDisplay","nextSibling","UpdateSize","size","FindDirectChildByTagName","tagName","returnValue","children","tmp","pluginName","createPlugin","defaults","firstChar","charAt","firstCharLower","prototypableName","slice","noConflictPrototypable","fn","dataKey","prototypable","each","$e","instance","data","isMethodName","test","removeData","methodName","noConflict","AddToJQueryPrototype","settings","extend","buildConfiguration","stylingMethod","useCss","adapter","filterInputItemClass","dropDownItem","getSize","getIsValid","getIsInvalid","trigger","form","backup","eventName","createInputId","id","$container","closest","get","label","$formGroup","$label","find","getAttribute","$form","$fieldset","fieldset","getElementsByTagName","handler","backupedFor","newId","selectedItemContentStylingMethod","disableSelectedItemContent","$content","css","createSelectedItemContent","$selectedItem","$button","selectedItem","optionItem","appendTo","on","jqEvent","originalEvent","prop","unbind","bs4DropDownItemContent","dropDownItemContentStylingMethod","$checkBox","$checkBoxLabel","isDisbaled","$dropDownItem","$dropDownItemContent","updateSize","minHeight","updateIsValid","isValid","isInvalid","multiSelect","$selectedPanel","$placeholderItem","$filterInputItem","$filterInput","$dropDownMenu","UpdateIsValid"],"mappings":"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","sourcesContent":["function defFilterInputStyleSys(s) {s.border='0px'; s.padding='0px'; s.outline='none'; s.backgroundColor='transparent' };\r\n\r\nfunction FilterPanel(\r\n        createElement,\r\n        insertIntoDom,\r\n        onFocusIn,  // show dropdown\r\n        onFocusOut, // hide dropdown\r\n        onKeyDownArrowUp, \r\n        onKeyDownArrowDown,\r\n        onTabForEmpty,  // tab on empty\r\n        onBackspace, // backspace alike\r\n        onEnterOrTabToCompleate, // \"compleate alike\"\r\n        onKeyDownEsc, \r\n        onKeyUpEsc, // \"esc\" alike\r\n        onInput, // filter\r\n        setEmptyLength\r\n    ) {\r\n    \r\n    var inputElement = createElement('INPUT'); \r\n    \r\n    inputElement.setAttribute(\"type\",\"search\");\r\n    inputElement.setAttribute(\"autocomplete\",\"off\");\r\n\r\n    defFilterInputStyleSys(inputElement.style);\r\n\r\n    insertIntoDom(inputElement);\r\n\r\n    var onfilterInputKeyDown = (event) => {\r\n        if ([38, 40, 13 ,27].indexOf(event.which)>=0 \r\n            || (event.which == 9 && inputElement.value) ) {\r\n            event.preventDefault(); \r\n            // preventDefault for tab(9) it enables keyup,\r\n            // prevent form default button (13-enter) \r\n            // but doesn't help with bootsrap modal ESC or ENTER (close behaviour);\r\n            // esc(27) there is just in case\r\n        }\r\n        if (event.which == 27 ) {\r\n            onKeyDownEsc(inputElement.value?false:true, event); // support BS do not close modal - event.stopPropagation inside\r\n        }\r\n        else if (event.which == 38) {\r\n            onKeyDownArrowUp();\r\n        }\r\n        else if (event.which == 40) {\r\n            onKeyDownArrowDown();\r\n        }\r\n        else if (event.which == 9  /*tab*/) { // no keydown for this\r\n            if (!inputElement.value) {\r\n                 onTabForEmpty(); // filter is empty, nothing to reset\r\n            }\r\n        }\r\n        else if (event.which == 8 /*backspace*/) {\r\n            // NOTE: this will process backspace only if there are no text in the input field\r\n            // If user will find this inconvinient, we will need to calculate something like this\r\n            // this.isBackspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\r\n            if (!inputElement.value)\r\n            { \r\n                onBackspace();\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    \r\n    var onFilterInputKeyUp = (event) => {\r\n        if (event.which == 13 || event.which == 9) {\r\n            onEnterOrTabToCompleate();\r\n        }\r\n        else if (event.which == 27) { // escape\r\n            onKeyUpEsc(); // is it always empty (bs x can still it) \r\n        }\r\n    }\r\n    \r\n    // it can be initated by 3PP functionality\r\n    // sample (1) BS functionality - input x button click - clears input\r\n    // sample (2) BS functionality - esc keydown - clears input\r\n    // and there could be difference in processing: (2) should hide the menu, then reset , when (1) should just reset without hiding.\r\n    var onFilterInputInput = () => {\r\n        var filterInputValue = inputElement.value;\r\n        onInput(\r\n            filterInputValue, \r\n            ()=> inputElement.style.width = filterInputValue.length*1.3 + 2 + \"ch\"\r\n        );\r\n    }\r\n    \r\n    inputElement.addEventListener('focusin', onFocusIn);\r\n    inputElement.addEventListener('focusout', onFocusOut);\r\n    inputElement.addEventListener('keydown', onfilterInputKeyDown);    \r\n    inputElement.addEventListener('keyup', onFilterInputKeyUp);\r\n    inputElement.addEventListener('input', onFilterInputInput);\r\n\r\n    // function setEmptyLength(){\r\n    //     inputElement.style.width= \"100%\"; //--\"1rem\";\r\n    // }\r\n    //setEmptyLength();\r\n\r\n    function setEmpty(){\r\n        inputElement.value ='';\r\n        setEmptyLength();\r\n    };\r\n    \r\n    return {\r\n        inputElement,\r\n        isEmpty(){\r\n            return inputElement.value ? false:true;\r\n        },\r\n        setEmpty,\r\n        setEmptyLength,\r\n        setFocus(){\r\n            inputElement.focus();\r\n        },\r\n        isEventTarget(event){\r\n            return event.target == inputElement;\r\n        },\r\n        dispose(){\r\n            inputElement.removeEventListener('focusin', onFocusIn);\r\n            inputElement.removeEventListener('focusout', onFocusOut);\r\n            inputElement.removeEventListener('keydown', onfilterInputKeyDown);\r\n            inputElement.removeEventListener('keyup', onFilterInputKeyUp);\r\n            inputElement.removeEventListener('input', onFilterInputInput);\r\n        }\r\n    }\r\n}\r\n\r\nexport default FilterPanel;","function defDropDownMenuStyleSys(s) {s.listStyleType='none'}; // remove bullets since this is ul\r\n\r\nfunction OptionsPanel(createElement, dropDownMenu, onShow, onHide, eventSkipper, dropDownItemContent, styling, \r\n        getVisibleMultiSelectDataList, resetFilter, updateDropDownLocation, filterPanelSetFocus) {\r\n    \r\n    // prevent heavy understandable styling error\r\n    defDropDownMenuStyleSys(dropDownMenu.style);\r\n    var hoveredMultiSelectData=null;\r\n    var hoveredMultiSelectDataIndex = null;\r\n    var candidateToHoveredMultiSelectData=null;\r\n\r\n    function hideDropDown() {\r\n        if (candidateToHoveredMultiSelectData){\r\n            resetCandidateToHoveredMultiSelectData();\r\n        }\r\n        if (dropDownMenu.style.display != 'none')\r\n        {\r\n            dropDownMenu.style.display = 'none';\r\n            onHide();\r\n        }\r\n    }\r\n\r\n    function showDropDown() {\r\n        if (dropDownMenu.style.display != 'block')\r\n        {\r\n            eventSkipper.setSkippable();\r\n            dropDownMenu.style.display = 'block';\r\n            onShow();\r\n        }\r\n    }\r\n\r\n    var hoverInInternal = function(index){\r\n        hoveredMultiSelectDataIndex = index;\r\n        hoveredMultiSelectData = getVisibleMultiSelectDataList()[index];\r\n        styling.HoverIn(hoveredMultiSelectData.dropDownMenuItemElement);\r\n    }\r\n\r\n    function resetDropDownMenuHover() {\r\n        if (hoveredMultiSelectData) {\r\n            styling.HoverOut(hoveredMultiSelectData.dropDownMenuItemElement);\r\n            hoveredMultiSelectData = null;\r\n            hoveredMultiSelectDataIndex = null;\r\n        }\r\n    }\r\n\r\n    var resetCandidateToHoveredMultiSelectData = function(){\r\n        candidateToHoveredMultiSelectData.dropDownMenuItemElement.removeEventListener('mousemove', processCandidateToHovered);\r\n        candidateToHoveredMultiSelectData.dropDownMenuItemElement.removeEventListener('mousedown', processCandidateToHovered);\r\n        candidateToHoveredMultiSelectData = null;\r\n    }\r\n\r\n    var processCandidateToHovered = function() {\r\n        if (hoveredMultiSelectData != candidateToHoveredMultiSelectData)\r\n        {\r\n            resetDropDownMenuHover(); \r\n            hoverInInternal(candidateToHoveredMultiSelectData.visibleIndex);\r\n        }\r\n        if(candidateToHoveredMultiSelectData) \r\n            resetCandidateToHoveredMultiSelectData();\r\n    }\r\n\r\n    function toggleHovered(){\r\n        if (hoveredMultiSelectData) {\r\n            hoveredMultiSelectData.toggle();\r\n            resetDropDownMenuHover();\r\n            hideDropDown(); // always hide 1st\r\n            resetFilter();\r\n        } \r\n    }\r\n\r\n    function keyDownArrow(down) {\r\n        let visibleMultiSelectDataList = getVisibleMultiSelectDataList();\r\n        let length = visibleMultiSelectDataList.length;\r\n        let newIndex=null;\r\n        if (length > 0) {\r\n            if (down) {\r\n                let i = hoveredMultiSelectDataIndex==null?0:hoveredMultiSelectDataIndex+1;\r\n                while(i<length){\r\n                    if (visibleMultiSelectDataList[i].visible){\r\n                        newIndex=i;\r\n                        break;\r\n                    }\r\n                    i++;\r\n                }\r\n            } else {\r\n                let i = hoveredMultiSelectDataIndex==null?length-1:hoveredMultiSelectDataIndex-1;\r\n                while(i>=0){\r\n                    if (visibleMultiSelectDataList[i].visible){\r\n                        newIndex=i;\r\n                        break;\r\n                    }\r\n                    i--;\r\n                }\r\n            }\r\n        }\r\n        \r\n        if (newIndex!=null)\r\n        {\r\n            if (hoveredMultiSelectData)\r\n                styling.HoverOut(hoveredMultiSelectData.dropDownMenuItemElement);\r\n            updateDropDownLocation();\r\n            showDropDown(); \r\n            hoverInInternal(newIndex);\r\n        }\r\n    }\r\n\r\n    var onDropDownMenuItemElementMouseoverGeneral = function(MultiSelectData, dropDownMenuItemElement)\r\n    {\r\n        if (eventSkipper.isSkippable())\r\n        {\r\n            if(candidateToHoveredMultiSelectData)\r\n                resetCandidateToHoveredMultiSelectData()\r\n\r\n            candidateToHoveredMultiSelectData = MultiSelectData;\r\n            dropDownMenuItemElement.addEventListener('mousemove', processCandidateToHovered);\r\n            dropDownMenuItemElement.addEventListener('mousedown', processCandidateToHovered);\r\n        }\r\n        else\r\n        {\r\n            if (hoveredMultiSelectData!=MultiSelectData)\r\n            {\r\n                // mouseleave is not enough to guarantee remove hover styles in situations\r\n                // when style was setuped without mouse (keyboard arrows)\r\n                // therefore force reset manually\r\n                resetDropDownMenuHover(); \r\n                hoverInInternal(MultiSelectData.visibleIndex);\r\n            }                \r\n        }\r\n    }\r\n\r\n    function insertDropDownItem(MultiSelectData, createSelectedItemGen, setSelected, triggerChange, isSelected, isOptionDisabled) {\r\n        var dropDownMenuItemElement = createElement('LI');\r\n        \r\n        // in chrome it happens on \"become visible\" so we need to skip it, \r\n        // for IE11 and edge it doesn't happens, but for IE11 and Edge it doesn't happens on small \r\n        // mouse moves inside the item. \r\n        // https://stackoverflow.com/questions/59022563/browser-events-mouseover-doesnt-happen-when-you-make-element-visible-and-mous\r\n        \r\n        var onDropDownMenuItemElementMouseover = () => onDropDownMenuItemElementMouseoverGeneral(\r\n            MultiSelectData,\r\n            dropDownMenuItemElement\r\n        )\r\n\r\n        dropDownMenuItemElement.addEventListener('mouseover', onDropDownMenuItemElementMouseover);\r\n        \r\n        // note 1: mouseleave preferred to mouseout - which fires on each descendant\r\n        // note 2: since I want add aditional info panels to the dropdown put mouseleave on dropdwon would not work\r\n        var onDropDownMenuItemElementMouseleave = () => {\r\n            if (!eventSkipper.isSkippable()) {\r\n                resetDropDownMenuHover();\r\n            }\r\n        }\r\n\r\n        dropDownMenuItemElement.addEventListener('mouseleave', onDropDownMenuItemElementMouseleave);\r\n\r\n        dropDownMenu.appendChild(dropDownMenuItemElement);\r\n\r\n        let content = dropDownItemContent(dropDownMenuItemElement, MultiSelectData.option); \r\n        MultiSelectData.dropDownMenuItemElement = dropDownMenuItemElement;\r\n        MultiSelectData.DropDownItemContent = content;\r\n\r\n        MultiSelectData.DisposeDropDownMenuItemElement = ()=> {\r\n            dropDownMenuItemElement.removeEventListener('mouseover',  onDropDownMenuItemElementMouseover);\r\n            dropDownMenuItemElement.removeEventListener('mouseleave', onDropDownMenuItemElementMouseleave);\r\n        }\r\n\r\n        var setDropDownItemContentDisabled = (content,  isSelected) => {\r\n            content.disabledStyle(true);\r\n            // do not desable if selected! there should be possibility to unselect \"disabled\"\r\n            content.disable(!isSelected);\r\n        }\r\n\r\n        if (isOptionDisabled)\r\n            setDropDownItemContentDisabled(content, isSelected )\r\n\r\n        content.onSelected( () => {\r\n            MultiSelectData.toggle();\r\n            filterPanelSetFocus();\r\n        });\r\n        // ------------------------------------------------------------------------------\r\n        \r\n        var createSelectedItem = () => createSelectedItemGen(\r\n            MultiSelectData,\r\n            isOptionDisabled,\r\n            () => setDropDownItemContentDisabled(content, false)\r\n        );\r\n        \r\n        if (isSelected)\r\n        {\r\n            createSelectedItem();\r\n        }\r\n        else\r\n        {\r\n            MultiSelectData.excludedFromSearch =  isOptionDisabled;\r\n            if (isOptionDisabled)\r\n                MultiSelectData.toggle = () => { }\r\n            else\r\n                MultiSelectData.toggle = () =>  {\r\n                    var confirmed = setSelected(MultiSelectData.option, true);\r\n                    if (confirmed==null || confirmed) {\r\n                        createSelectedItem();\r\n                        triggerChange();\r\n                    }\r\n                }\r\n        }\r\n        // TODO: refactore it\r\n    }\r\n\r\n    var item = {\r\n        hoverInInternal,\r\n        stopAndResetDropDownMenuHover(){\r\n            eventSkipper.setSkippable(); //disable Hover On MouseEnter - filter's changes should remove hover\r\n            resetDropDownMenuHover();\r\n        },\r\n        showDropDown,\r\n        hideDropDown,\r\n        toggleHovered,\r\n        keyDownArrow,\r\n        insertDropDownItem,\r\n        getIsVisble(){\r\n            return dropDownMenu.style.display != 'none';\r\n        }\r\n        \r\n    }\r\n    return item;\r\n}\r\n\r\nexport default OptionsPanel;","function removeElement(e) {e.parentNode.removeChild(e)}\r\nexport default removeElement;","import removeElement from './removeElement.js'\r\n\r\nfunction defSelectedPanelStyleSys(s) {s.display='flex'; s.flexWrap='wrap'; s.listStyleType='none'};  // remove bullets since this is ul\r\n\r\n\r\nfunction PicksPanel (\r\n        setSelected,\r\n        createElement,\r\n        picksElement, \r\n        init, \r\n        selectedItemContent, \r\n        isComponentDisabled, \r\n        triggerChange, \r\n        onRemove,\r\n        onClick,\r\n        onPicksEmptyChanged, //placeholderAspect.updatePlacehodlerVisibility(); call the same on enable/disable\r\n        processRemoveButtonClick\r\n) \r\n{\r\n    var picksCount = 0;\r\n    function inc(){picksCount++; if (picksCount==1) onPicksEmptyChanged()};\r\n    function dec(){picksCount--; if (picksCount==0) onPicksEmptyChanged()};\r\n    function reset(){picksCount=0; ; onPicksEmptyChanged()}\r\n    function isEmpty(){return picksCount==0};\r\n\r\n    defSelectedPanelStyleSys(picksElement.style); \r\n\r\n    var inputItemElement = createElement('LI'); // detached\r\n  \r\n    \r\n    \r\n    picksElement.appendChild(inputItemElement); // located filter in selectionsPanel\r\n    \r\n   \r\n\r\n    init(inputItemElement);\r\n    var MultiSelectDataSelectedTail = null;\r\n\r\n    function removeSelectedTail(){\r\n        if (MultiSelectDataSelectedTail){ \r\n            MultiSelectDataSelectedTail.toggle(); // always remove in this case\r\n        }\r\n    }\r\n\r\n    function removeSelectedFromList(MultiSelectData){\r\n        if (MultiSelectData.selectedPrev){\r\n            (MultiSelectData.selectedPrev).selectedNext = MultiSelectData.selectedNext;\r\n        }\r\n        if (MultiSelectData.selectedNext){\r\n           (MultiSelectData.selectedNext).selectedPrev = MultiSelectData.selectedPrev;\r\n        }\r\n        if (MultiSelectDataSelectedTail == MultiSelectData){\r\n            MultiSelectDataSelectedTail = MultiSelectData.selectedPrev;\r\n        }\r\n        MultiSelectData.selectedNext=null;\r\n        MultiSelectData.selectedPrev=null;\r\n    }\r\n\r\n\r\n    function createSelectedItem(MultiSelectData, isOptionDisabled, setDropDownItemContentDisabled) {\r\n        \r\n        var selectedItemElement = createElement('LI');\r\n        MultiSelectData.selectedItemElement = selectedItemElement;\r\n        if (MultiSelectDataSelectedTail){\r\n            MultiSelectDataSelectedTail.selectedNext = MultiSelectData;\r\n            MultiSelectData.selectedPrev = MultiSelectDataSelectedTail;\r\n        }\r\n        MultiSelectDataSelectedTail = MultiSelectData;\r\n\r\n        var removeSelectedItem = () => {\r\n            let confirmed = setSelected(MultiSelectData.option, false);\r\n            if (confirmed==null || confirmed) {\r\n                MultiSelectData.excludedFromSearch = isOptionDisabled;\r\n                if (isOptionDisabled)\r\n                {\r\n                    setDropDownItemContentDisabled(MultiSelectData.DropDownItemContent, false);\r\n                    MultiSelectData.toggle = ()=> {};\r\n                }\r\n                else\r\n                {\r\n                    MultiSelectData.toggle = ()=>{\r\n                        let confirmed = setSelected(MultiSelectData.option, true);\r\n                        if (confirmed==null || confirmed){\r\n                            createSelectedItem(MultiSelectData, isOptionDisabled, setDropDownItemContentDisabled);\r\n                            triggerChange();\r\n                        }\r\n                    };\r\n                }\r\n                MultiSelectData.DropDownItemContent.select(false);\r\n                removeElement(selectedItemElement);\r\n                MultiSelectData.SelectedItemContent.dispose();\r\n                MultiSelectData.SelectedItemContent=null;\r\n                MultiSelectData.selectedItemElement=null;\r\n\r\n                removeSelectedFromList(MultiSelectData);\r\n                dec();\r\n                triggerChange();\r\n            }\r\n        }\r\n\r\n        // processRemoveButtonClick removes the \r\n        // what is a problem with calling removeSelectedItem directly (not using  setTimeout(removeSelectedItem, 0)):\r\n        // consider situation \"MultiSelect\" on DROPDOWN (that should be closed on the click outside dropdown)\r\n        // therefore we aslo have document's click's handler where we decide to close or leave the DROPDOWN open.\r\n        // because of the event's bubling process removeSelectedItem runs first. \r\n        // that means the event's target element on which we click (the x button) will be removed from the DOM together with badge \r\n        // before we could analize is it belong to our dropdown or not.\r\n        // important 1: we can't just the stop propogation using stopPropogate because click outside dropdown on the similar \r\n        // component that use stopPropogation will not close dropdown (error, dropdown should be closed)\r\n        // important 2: we can't change the dropdown's event handler to leave dropdown open if event's target is null because of\r\n        // the situation described above: click outside dropdown on the same component.\r\n        // Alternatively it could be possible to use stopPropogate but together create custom click event setting new target that belomgs to DOM (e.g. panel)\r\n\r\n        let removeSelectedItemAndCloseDropDown = () => {\r\n            removeSelectedItem();\r\n            onRemove();\r\n        };\r\n    \r\n        let onRemoveSelectedItemEvent = (event) => {\r\n            processRemoveButtonClick(() => removeSelectedItemAndCloseDropDown(), event);\r\n        };\r\n\r\n        MultiSelectData.SelectedItemContent = selectedItemContent(\r\n            selectedItemElement,\r\n            MultiSelectData.option,\r\n            onRemoveSelectedItemEvent);\r\n\r\n        var disable = (isDisabled) =>\r\n            MultiSelectData.SelectedItemContent.disable(isDisabled);\r\n        disable(isComponentDisabled);\r\n\r\n        MultiSelectData.excludedFromSearch = true; // all selected excluded from search\r\n        MultiSelectData.disable = disable;\r\n        picksElement.insertBefore(selectedItemElement, inputItemElement);\r\n         \r\n        MultiSelectData.toggle = () => removeSelectedItem();\r\n        MultiSelectData.DropDownItemContent.select(true);\r\n        inc();\r\n    }\r\n\r\n    var selectedPanelClick = event => {\r\n        onClick(event);\r\n    };\r\n\r\n    function iterateAll(isDisabled){\r\n        let i = MultiSelectDataSelectedTail;\r\n        while(i){\r\n            i.disable(isDisabled); \r\n            i = i.selectedPrev;\r\n        }\r\n    }\r\n\r\n    var item = {\r\n        inputItemElement,\r\n        insert(selectedItemElement){\r\n            this.selectedPanel.insertBefore(selectedItemElement, inputItemElement);\r\n        },\r\n        createSelectedItem,\r\n        removeSelectedTail,\r\n        resetMultiSelectDataSelectedTail() {\r\n            reset();\r\n            MultiSelectDataSelectedTail = null;\r\n        },\r\n        isEmpty,\r\n        enable(){\r\n            isComponentDisabled= false;\r\n            iterateAll(false);\r\n            picksElement.addEventListener(\"click\", selectedPanelClick);\r\n\r\n        },\r\n        disable(){\r\n            isComponentDisabled= true;\r\n            iterateAll(true);\r\n            picksElement.removeEventListener(\"click\", selectedPanelClick);\r\n\r\n        },\r\n        dispose(){\r\n            var toRemove = picksElement.firstChild;\r\n            while( toRemove ) {\r\n                picksElement.removeChild( toRemove );\r\n                toRemove = picksElement.firstChild;\r\n            }\r\n            picksElement.removeEventListener(\"click\", selectedPanelClick); // OPEN dropdown\r\n        }\r\n        \r\n    }\r\n    return item;\r\n}\r\n\r\nexport default PicksPanel;","function MultiSelectInputAspect (\r\n    window,\r\n    appendToContainer, \r\n    filterInputItem, \r\n    picksElement,\r\n    optionsElement, \r\n    showDropDown,\r\n    hideDropDownAndResetFilter,\r\n    isDropDownMenuEmpty,\r\n    Popper\r\n    ) {\r\n\r\n        appendToContainer();\r\n        var document = window.document;\r\n\r\n    var skipFocusout = false;\r\n    \r\n    // we want to escape the closing of the menu (because of focus out from) on a user's click inside the container\r\n    var skipoutMousedown = function() {\r\n         skipFocusout = true;\r\n    }\r\n\r\n    var documentMouseup = function(event) {\r\n        // if click outside container - close dropdown\r\n        if (  !(optionsElement === event.target \r\n                || picksElement === event.target \r\n                || optionsElement.contains(event.target)\r\n                || picksElement.contains(event.target)\r\n               )\r\n            ) {\r\n            hideDropDownAndResetFilter();\r\n        }\r\n    }\r\n\r\n    var popper = new Popper( \r\n        filterInputItem, \r\n        optionsElement, \r\n        {\r\n            placement: 'bottom-start',\r\n            modifiers: {\r\n                preventOverflow: {enabled:false},\r\n                hide: {enabled:false},\r\n                flip: {enabled:false}\r\n            }\r\n        }\r\n    );\r\n\r\n    var filterInputItemOffsetLeft = null; // used to detect changes in input field position (by comparision with current value)\r\n    var preventDefaultClickEvent = null;\r\n\r\n    function alignAndShowDropDown(event){\r\n        if (preventDefaultClickEvent != event) {\r\n            if (!isDropDownMenuEmpty())\r\n            {\r\n                alignToFilterInputItemLocation(true);\r\n                showDropDown();\r\n            }\r\n        }\r\n        preventDefaultClickEvent=null;\r\n    }\r\n    \r\n    function alignToFilterInputItemLocation(force) {\r\n        let offsetLeft = filterInputItem.offsetLeft;\r\n        if (force || filterInputItemOffsetLeft != offsetLeft){ // position changed\r\n            popper.update();\r\n            filterInputItemOffsetLeft = offsetLeft;\r\n        }\r\n    }\r\n\r\n    return {\r\n        dispose(){\r\n            popper.destroy();\r\n        },\r\n        alignToFilterInputItemLocation,\r\n        alignAndShowDropDown,\r\n        processUncheck(uncheckOption, event){\r\n            // we can't remove item on \"click\" in the same loop iteration - it is unfrendly for 3PP event handlers (they will get detached element)\r\n            // never remove elements in the same event iteration\r\n\r\n            window.setTimeout(()=>uncheckOption(),0)\r\n            preventDefaultClickEvent = event; // setPreventDefaultMultiSelectEvent\r\n        },\r\n        onDropDownShow(){\r\n            // add listeners that manages close dropdown on input's focusout and click outside container\r\n            //container.removeEventListener(\"mousedown\", containerMousedown);\r\n\r\n            picksElement.addEventListener(\"mousedown\", skipoutMousedown);\r\n            optionsElement.addEventListener(\"mousedown\", skipoutMousedown);\r\n            document.addEventListener(\"mouseup\", documentMouseup);\r\n            \r\n        },\r\n        onDropDownHide(){\r\n            picksElement.removeEventListener(\"mousedown\", skipoutMousedown);\r\n            optionsElement.addEventListener(\"mousedown\", skipoutMousedown);\r\n            document.removeEventListener(\"mouseup\", documentMouseup);\r\n        },\r\n        getSkipFocusout : function() {\r\n             return skipFocusout;\r\n        },\r\n        resetSkipFocusout : function() {\r\n             skipFocusout=false;\r\n        }\r\n    }\r\n}\r\n\r\nexport default MultiSelectInputAspect;","import Popper from 'popper.js'\r\nimport FilterPanel from './FilterPanel.js'\r\nimport OptionsPanel from './OptionsPanel.js'\r\nimport PicksPanel from './PicksPanel.js'\r\nimport MultiSelectInputAspect from './MultiSelectInputAspect.js'\r\n//import PlaceholderAsElementAspect from './PlaceholderAsElementAspect.js'\r\nimport PlaceholderAsInputAspect from './PlaceholderAsInputAspect.js'\r\n\r\nimport EventSkipper from './EventSkipper.js'\r\nimport removeElement from './removeElement.js'\r\n\r\nfunction filterMultiSelectData(MultiSelectData, isFiltered, visibleIndex) {\r\n    MultiSelectData.visible = isFiltered;\r\n    MultiSelectData.visibleIndex = visibleIndex;\r\n    MultiSelectData.dropDownMenuItemElement.style.display = isFiltered ? 'block': 'none';\r\n} \r\n\r\nfunction resetDropDownMenu(MultiSelectDataList) {\r\n    for(let i=0; i<MultiSelectDataList.length; i++)\r\n    {\r\n        let multiSelectData = MultiSelectDataList[i];\r\n        if ( !multiSelectData.isHidden )\r\n        {\r\n            filterMultiSelectData(multiSelectData, true, i);\r\n        }\r\n    }\r\n}\r\n\r\nfunction collectFilterDropDownMenu(MultiSelectDataList, text) {\r\n    var list = [];\r\n    var j = 0;\r\n    for(let i=0; i<MultiSelectDataList.length; i++)\r\n    {\r\n        let multiSelectData = MultiSelectDataList[i];\r\n        if ( !multiSelectData.isHidden )\r\n        {\r\n            if ( multiSelectData.excludedFromSearch || multiSelectData.searchText.indexOf(text)<0 )\r\n            {\r\n                filterMultiSelectData(multiSelectData, false);\r\n            }\r\n            else \r\n            {\r\n                filterMultiSelectData(multiSelectData, true, j++);\r\n                list.push( multiSelectData );\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n\r\nclass MultiSelect {\r\n\r\n    constructor(optionsAdapter, setSelected, containerAdapter, styling, \r\n        selectedItemContent, dropDownItemContent, \r\n        labelAdapter, createStylingComposite, placeholderText,\r\n        configuration, onUpdate, onDispose, window) {\r\n        if (typeof Popper === 'undefined') {\r\n            throw new TypeError('DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)')\r\n        }\r\n        this.onUpdate = onUpdate;\r\n        this.onDispose = onDispose; \r\n\r\n        // readonly\r\n        this.optionsAdapter = optionsAdapter;\r\n        this.containerAdapter = containerAdapter;\r\n        this.styling = styling;\r\n        this.selectedItemContent = selectedItemContent;\r\n        this.dropDownItemContent = dropDownItemContent;\r\n        this.labelAdapter = labelAdapter;\r\n        this.createStylingComposite = createStylingComposite;\r\n        this.configuration = configuration;\r\n        this.placeholderText = placeholderText;\r\n        this.setSelected=setSelected; // should I rebind this for callbacks? setSelected.bind(this);\r\n        this.window = window;\r\n\r\n        this.visibleCount=10;\r\n\r\n        this.optionsPanel = null;\r\n\r\n        this.stylingComposite = null;\r\n\r\n        this.isComponentDisabled = null;\r\n                \r\n        this.resetMultiSelectDataList();\r\n    }\r\n\r\n    resetMultiSelectDataList(){\r\n        this.MultiSelectDataList = [];\r\n        this.filteredMultiSelectDataList = null;\r\n    }\r\n\r\n    \r\n    getVisibleMultiSelectDataList(){\r\n        if (this.filteredMultiSelectDataList)\r\n            return this.filteredMultiSelectDataList;\r\n        else\r\n            return this.MultiSelectDataList;\r\n    }\r\n\r\n    resetFilter(){\r\n        if (!this.filterPanel.isEmpty()) {\r\n            this.filterPanel.setEmpty();\r\n            this.processEmptyInput();\r\n            this.placeholderAspect.updatePlacehodlerVisibility();\r\n        }\r\n    }\r\n\r\n    processEmptyInput(){\r\n        this.filterPanel.setEmptyLength();\r\n        resetDropDownMenu(this.MultiSelectDataList);\r\n        this.filteredMultiSelectDataList = null;\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------------------------\r\n    GetContainer(){\r\n        return this.containerAdapter.container;\r\n    }\r\n\r\n    Update(){\r\n        this.onUpdate();\r\n        this.UpdateDisabled();\r\n        this.UpdateData();\r\n    }\r\n\r\n    /*\r\n    UpdateOption(index){\r\n        let multiSelectData = this.MultiSelectDataList[index];\r\n        let option = multiSelectData.option;\r\n        multiSelectData.searchText = option.text.toLowerCase().trim();\r\n        if (multiSelectData.isHidden != option.isHidden)\r\n        {\r\n            multiSelectData.isHidden=option.isHidden;\r\n            if (multiSelectData.isHidden)\r\n                this.optionsPanel.insertDropDownItem(multiSelectData, \r\n                    (p1,p2,p3)=>this.picksPanel.createSelectedItem(p1,p2,p3),\r\n                    ()=>this.optionsAdapter.triggerChange(),\r\n                    option.isSelected, option.isDisabled);\r\n            else\r\n                multiSelectData.removeDropDownMenuItemElement();\r\n        }\r\n        else \r\n        {\r\n            if (multiSelectData.isSelected != option.isSelected)\r\n            {\r\n                multiSelectData.isSelected=option.isSelected;\r\n                if (multiSelectData.isSelected)\r\n                {\r\n                    // this.insertDropDownItem(multiSelectData, (e)=>this.dropDownMenu.appendChild(e), isSelected, isDisabled);\r\n                }\r\n                else\r\n                {\r\n                    // multiSelectData.removeDropDownMenuItemElement();\r\n                }\r\n            }\r\n            if (multiSelectData.isDisabled != option.isDisabled)\r\n            {\r\n                multiSelectData.isDisabled=option.isDisabled;\r\n                if (multiSelectData.isDisabled)\r\n                {\r\n                    // this.insertDropDownItem(multiSelectData, (e)=>this.dropDownMenu.appendChild(e), isSelected, isDisabled);\r\n                }\r\n                else\r\n                {\r\n                    // multiSelectData.removeDropDownMenuItemElement();\r\n                }\r\n            }\r\n        }    \r\n        //multiSelectData.updateOption();\r\n    }*/\r\n\r\n    DeselectAll(){\r\n        this.optionsPanel.hideDropDown(); // always hide 1st\r\n\r\n        for(let i=0; i<this.MultiSelectDataList.length; i++)\r\n        {\r\n            let multiSelectData = this.MultiSelectDataList[i];\r\n            if (multiSelectData.selectedItemElement)\r\n                multiSelectData.toggle();\r\n        }\r\n        this.resetFilter();\r\n        \r\n    }\r\n\r\n    SelectAll(){\r\n        this.optionsPanel.hideDropDown(); // always hide 1st\r\n\r\n        for(let i=0; i<this.MultiSelectDataList.length; i++)\r\n        {\r\n            let multiSelectData = this.MultiSelectDataList[i];\r\n            if (!multiSelectData.excludedFromSearch)\r\n                multiSelectData.toggle();\r\n        }\r\n        this.resetFilter();\r\n    }\r\n\r\n    empty(){\r\n        // close drop down , remove filter and listeners\r\n        this.optionsPanel.hideDropDown(); // always hide 1st\r\n        this.resetFilter();\r\n\r\n        for(let i=0; i<this.MultiSelectDataList.length; i++)\r\n        {\r\n            let multiSelectData = this.MultiSelectDataList[i];\r\n            if (multiSelectData.dropDownMenuItemElement)\r\n                removeElement(multiSelectData.dropDownMenuItemElement);\r\n            if (multiSelectData.selectedItemElement)\r\n                removeElement(multiSelectData.selectedItemElement);\r\n        }\r\n        this.resetMultiSelectDataList();\r\n        this.picksPanel.resetMultiSelectDataSelectedTail();// this.MultiSelectDataSelectedTail = null;\r\n    }\r\n\r\n    UpdateData(){\r\n        this.empty();\r\n        // reinitiate\r\n        this.updateDataImpl();\r\n        \r\n    }\r\n\r\n    updateDataImpl(){\r\n        var createDropDownItems = () => {\r\n            let options = this.optionsAdapter.getOptions();\r\n            var j = 0;\r\n            for(let i = 0; i<options.length; i++) {\r\n                let option = options[i];\r\n\r\n                let isSelected = option.selected;\r\n\r\n                let isDisabled = (option.disabled)?option.disabled:false;\r\n                let isHidden   = (option.hidden)?option.hidden:false;\r\n                \r\n                var MultiSelectData = {\r\n                    searchText: option.text.toLowerCase().trim(),\r\n                    excludedFromSearch: isSelected || isDisabled || isHidden,\r\n                    option: option,\r\n                    isHidden: isHidden,\r\n                    dropDownMenuItemElement: null,\r\n                    dropDownItemContent: null,\r\n                    selectedPrev: null,\r\n                    selectedNext: null,\r\n                    visible: false,\r\n                    toggle: null,\r\n                    selectedItemElement: null,\r\n                    remove: null,\r\n                    disable: null,\r\n                    removeDropDownMenuItemElement: null\r\n                };\r\n\r\n                this.MultiSelectDataList.push(MultiSelectData);\r\n                if (!isHidden){\r\n                    MultiSelectData.visible = true;\r\n                    MultiSelectData.visibleIndex=i;\r\n                    this.optionsPanel.insertDropDownItem(\r\n                        MultiSelectData, \r\n                        (p1,p2,p3) => this.picksPanel.createSelectedItem(p1,p2,p3),\r\n                        (o,i) => this.setSelected(o,i),\r\n                        () => this.optionsAdapter.triggerChange(), \r\n                        isSelected, \r\n                        isDisabled);\r\n                }\r\n            } \r\n            this.aspect.alignToFilterInputItemLocation(false);\r\n            //this.placeholderAspect.updatePlacehodlerVisibility();\r\n        }\r\n\r\n        // some browsers (IE11) can change select value (as part of \"autocomplete\") after page is loaded but before \"ready\" event\r\n        if (document.readyState != 'loading'){\r\n            createDropDownItems();\r\n        } else {\r\n            var createDropDownItemsHandler = function(){\r\n                createDropDownItems();\r\n                document.removeEventListener(\"DOMContentLoaded\", createDropDownItemsHandler);\r\n            }\r\n            document.addEventListener('DOMContentLoaded', createDropDownItemsHandler); // IE9+\r\n        }\r\n    }\r\n\r\n    Dispose(){\r\n        if (this.onDispose)\r\n            this.onDispose(); // primary used to remove from jQuery tables\r\n        \r\n        // remove event listeners\r\n        // TODO check if open\r\n        this.optionsPanel.hideDropDown();\r\n        if (this.optionsAdapter.dispose)\r\n            this.optionsAdapter.dispose();\r\n        this.picksPanel.dispose();\r\n        this.filterPanel.dispose();\r\n        \r\n        this.labelAdapter.dispose();\r\n        \r\n        this.aspect.dispose();\r\n        \r\n        this.containerAdapter.dispose();\r\n\r\n        for(let i=0; i<this.MultiSelectDataList.length; i++)\r\n        {\r\n            let multiSelectData = this.MultiSelectDataList[i];\r\n            multiSelectData.toggle = null;\r\n            multiSelectData.remove = null; \r\n            multiSelectData.removeDropDownMenuItemElement = null;\r\n            if (multiSelectData.DisposeDropDownMenuItemElement)\r\n                multiSelectData.DisposeDropDownMenuItemElement();\r\n            \r\n            if (multiSelectData.SelectedItemContent)\r\n                multiSelectData.SelectedItemContent.dispose();\r\n            if (multiSelectData.DropDownItemContent)\r\n                multiSelectData.DropDownItemContent.dispose();\r\n        }\r\n    }\r\n\r\n    UpdateDisabled(){\r\n        let isComponentDisabled = this.optionsAdapter.getDisabled();\r\n        if (this.isComponentDisabled!==isComponentDisabled){\r\n            if (isComponentDisabled) {\r\n                this.picksPanel.disable();\r\n                this.placeholderAspect.setDisabled(true);\r\n                this.styling.Disable(this.stylingComposite);\r\n            } else {\r\n                this.picksPanel.enable();\r\n                this.placeholderAspect.setDisabled(false);\r\n                this.styling.Enable(this.stylingComposite);\r\n            }\r\n            this.isComponentDisabled=isComponentDisabled;\r\n        }\r\n    }\r\n \r\n    input(filterInputValue, resetLength){\r\n        let text = filterInputValue.trim().toLowerCase();\r\n        var isEmpty=false;\r\n        if (text == '')\r\n            isEmpty=true;\r\n        else\r\n        {\r\n            // check if exact match, otherwise new search\r\n            this.filteredMultiSelectDataList = collectFilterDropDownMenu(this.MultiSelectDataList, text);\r\n            if (this.filteredMultiSelectDataList.length == 1)\r\n            {\r\n                let fullMatchMultiSelectData =  this.filteredMultiSelectDataList[0];\r\n                if (fullMatchMultiSelectData.searchText == text)\r\n                {\r\n                    fullMatchMultiSelectData.toggle();\r\n                    this.filterPanel.setEmpty(); // clear\r\n                    isEmpty=true;\r\n                }\r\n            }\r\n        }\r\n        if (isEmpty)\r\n            this.processEmptyInput();\r\n        else\r\n            resetLength();  \r\n        \r\n        \r\n        this.optionsPanel.stopAndResetDropDownMenuHover();\r\n        if (this.getVisibleMultiSelectDataList().length == 1) {\r\n            this.optionsPanel.hoverInInternal(0)\r\n        }\r\n\r\n        if (this.getVisibleMultiSelectDataList().length > 0) {\r\n            this.aspect.alignToFilterInputItemLocation(true); // we need it to support case when textbox changes its place because of line break (texbox grow with each key press)\r\n            this.optionsPanel.showDropDown();\r\n        } else {\r\n            this.optionsPanel.hideDropDown();\r\n        }\r\n    }\r\n\r\n    init() {\r\n        var document = this.window.document;\r\n        var createElement = (name) => document.createElement(name);\r\n        let container = this.containerAdapter.container;\r\n\r\n        var lazyfilterItemInputElementAtach=null;\r\n        \r\n        this.filterPanel = FilterPanel(\r\n            createElement,\r\n            (filterItemInputElement) => {\r\n                lazyfilterItemInputElementAtach = (filterItemElement)=>{\r\n                    filterItemElement.appendChild(filterItemInputElement);\r\n                    this.labelAdapter.init(filterItemInputElement); \r\n                };\r\n            },\r\n            () => {\r\n                this.styling.FocusIn(this.stylingComposite)\r\n            },  // focus in - show dropdown\r\n            () => {\r\n                if (!this.aspect.getSkipFocusout()) // skip initiated by mouse click (we manage it different way)\r\n                {\r\n                    this.resetFilter(); // if do not do this we will return to filtered list without text filter in input\r\n                    this.styling.FocusOut(this.stylingComposite)\r\n                }\r\n                this.aspect.resetSkipFocusout();\r\n            }, // focus out - hide dropdown\r\n            () => this.optionsPanel.keyDownArrow(false), // arrow up\r\n            () => this.optionsPanel.keyDownArrow(true),  // arrow down\r\n            () => this.optionsPanel.hideDropDown(),  // tab on empty\r\n            () => {\r\n                this.picksPanel.removeSelectedTail();\r\n                this.aspect.alignToFilterInputItemLocation(false);\r\n            }, // backspace - \"remove last\"\r\n            () => { \r\n                if (this.optionsPanel.getIsVisble())\r\n                    this.optionsPanel.toggleHovered() }, // tab/enter \"compleate hovered\"\r\n            (isEmpty, event) => {\r\n                if (!isEmpty || this.optionsPanel.getIsVisble()) // supports bs modal - stop esc (close modal) propogation\r\n                    event.stopPropagation();\r\n            }, // esc keydown\r\n            () => {\r\n                this.optionsPanel.hideDropDown(); // always hide 1st\r\n                this.resetFilter();\r\n            }, // esc keyup \r\n            (filterInputValue, resetLength) =>\r\n            { \r\n                this.placeholderAspect.updatePlacehodlerVisibility();\r\n                this.input(filterInputValue, resetLength) \r\n            }, // filter\r\n            () => {\r\n                this.placeholderAspect.updateEmptyInputWidth();\r\n            }\r\n        );\r\n        \r\n        this.picksPanel =  PicksPanel(\r\n            this.setSelected,\r\n            createElement,\r\n            this.containerAdapter.picksElement,\r\n            (filterItemElement) => {\r\n                lazyfilterItemInputElementAtach(filterItemElement);\r\n            },\r\n            this.selectedItemContent,\r\n            this.isComponentDisabled,\r\n            () => this.optionsAdapter.triggerChange(),\r\n            () => {\r\n                this.optionsPanel.hideDropDown(); // always hide 1st\r\n                this.resetFilter();\r\n            },\r\n\r\n            (event) => {\r\n                if (!this.filterPanel.isEventTarget(event))\r\n                     this.filterPanel.setFocus();\r\n                this.aspect.alignAndShowDropDown(event); \r\n            },\r\n            ()=> this.placeholderAspect.updatePlacehodlerVisibility(),\r\n            (doUncheck, event) => {\r\n                this.aspect.processUncheck(doUncheck, event);\r\n            }\r\n        );\r\n\r\n        this.optionsPanel = OptionsPanel(\r\n            createElement,\r\n            this.containerAdapter.optionsElement,\r\n            () => this.aspect.onDropDownShow(),\r\n            () => this.aspect.onDropDownHide(),\r\n            EventSkipper(this.window),\r\n            this.dropDownItemContent,\r\n            this.styling, \r\n            () => this.getVisibleMultiSelectDataList(),\r\n            () => this.resetFilter(),\r\n            () => this.aspect.alignToFilterInputItemLocation(true),\r\n            () => this.filterPanel.setFocus()\r\n        );\r\n\r\n        // this.placeholderAspect = PlaceholderAsElementAspect(\r\n        //     this.placeholderText, \r\n        //     () => this.picksPanel.isEmpty(),\r\n        //     () => this.filterPanel.isEmpty(), \r\n        //     this.containerAdapter.picksElement,\r\n        //     this.filterPanel.inputElement, \r\n        //     createElement, \r\n        //     ()=>this.isComponentDisabled,\r\n        //     this.picksPanel.inputItemElement);\r\n\r\n        this.placeholderAspect = PlaceholderAsInputAspect(\r\n            this.placeholderText, \r\n            () => this.picksPanel.isEmpty(), \r\n            () => this.filterPanel.isEmpty(), \r\n            this.containerAdapter.picksElement, \r\n            this.filterPanel.inputElement\r\n        )\r\n\r\n        this.placeholderAspect.init();\r\n        this.placeholderAspect.updateEmptyInputWidth();\r\n        \r\n\r\n        this.aspect =  MultiSelectInputAspect(\r\n            this.window,\r\n            ()=>this.containerAdapter.appendToContainer(), \r\n            this.picksPanel.inputItemElement, \r\n            this.containerAdapter.picksElement, \r\n            this.containerAdapter.optionsElement, \r\n            () => this.optionsPanel.showDropDown(),\r\n            () => {  \r\n                this.optionsPanel.hideDropDown();\r\n                this.resetFilter();\r\n            },\r\n            () => this.getVisibleMultiSelectDataList().length==0, \r\n            Popper\r\n        );\r\n        \r\n        this.stylingComposite = this.createStylingComposite(container, \r\n            this.containerAdapter.picksElement,\r\n            this.picksPanel.placeholderItemElement, \r\n            this.picksPanel.inputItemElement, \r\n            this.filterPanel.inputElement, \r\n            this.containerAdapter.optionsElement);\r\n        \r\n        this.styling.Init(this.stylingComposite);\r\n\r\n        this.containerAdapter.attachContainer();\r\n\r\n        this.onUpdate();\r\n        this.UpdateDisabled(); // should be done after updateDataImpl\r\n        this.updateDataImpl();\r\n\r\n        if (this.optionsAdapter.subscribeToReset)\r\n            this.optionsAdapter.subscribeToReset(()=> this.window.setTimeout( ()=>this.UpdateData() ) );\r\n    }\r\n}\r\n\r\nexport default MultiSelect;\r\n","export default function EventSkipper(window) {\r\n    var isSkippable = false;\r\n    return {\r\n        isSkippable(){\r\n            return isSkippable;\r\n        },\r\n        setSkippable(){\r\n            isSkippable = true;\r\n            window.setTimeout( \r\n                () => {  \r\n                    isSkippable = false;\r\n                }, 0)\r\n        }\r\n    }\r\n}","export default function PlaceholderAsInputAspect(placeholderText, picksIsEmpty, filterIsEmpty, picksElement, inputElement ){\r\n    function setEmptyInputWidth(isVisible){\r\n        if(isVisible)\r\n            inputElement.style.width=\"100%\"\r\n        else\r\n            inputElement.style.width=\"2ch\";\r\n    }\r\n\r\n    function showPlacehodler(isVisible){\r\n        if (isVisible)\r\n        {\r\n            inputElement.placeholder = placeholderText?placeholderText:\"\";\r\n            picksElement.style.display= \"block\";\r\n        }\r\n        else\r\n        {\r\n            inputElement.placeholder = \"\";\r\n            picksElement.style.display= \"flex\";\r\n        }\r\n        setEmptyInputWidth(isVisible);\r\n    }\r\n    showPlacehodler(true);\r\n\r\n    return {\r\n        init(){\r\n        },\r\n        updatePlacehodlerVisibility(){\r\n            showPlacehodler(picksIsEmpty() && filterIsEmpty());\r\n        },\r\n        updateEmptyInputWidth(){\r\n            setEmptyInputWidth(picksIsEmpty() && filterIsEmpty())\r\n        },\r\n        setDisabled(isDisabled)\r\n        { \r\n            inputElement.disabled = isDisabled;\r\n        }\r\n    }\r\n}","export function ExtendIfUndefined(destination, source) {\r\n    for (var property in source)\r\n        if (destination[property] === undefined)\r\n            destination[property] = source[property];\r\n}\r\n\r\nexport function ExtendIfUndefinedFluent(destination, source) {\r\n    ExtendIfUndefined(destination, source);\r\n    return destination;\r\n}","export function addClass(element, classes){\r\n    modifyClass(classes, e=>element.classList.add(e))\r\n}\r\n\r\nexport function removeClass(element, classes){\r\n    modifyClass(classes, e=>element.classList.remove(e))\r\n}\r\n\r\nfunction modifyClass(classes, modify){\r\n    if (classes){\r\n        if (Array.isArray(classes))\r\n            classes.forEach(e => modify(e))\r\n        else{\r\n            var array = classes.split(\" \");\r\n            array.forEach(e => modify(e))\r\n        }\r\n    }\r\n}","import  { ExtendIfUndefined } from './Tools';\r\nimport  { addClass, removeClass } from './DomTools';\r\n\r\nconst bs4StylingMethodCssDefaults = {\r\n    selectedPanelFocusClass : 'focus',\r\n    selectedPanelDisabledClass: 'disabled'//,\r\n    //dropDownItemDisabledClass: 'disabled'\r\n};\r\n\r\nfunction Bs4StylingMethodCss(configuration){\r\n    ExtendIfUndefined(configuration, bs4StylingMethodCssDefaults);\r\n\r\n    return {\r\n        Enable(selectedPanel){\r\n            removeClass(selectedPanel,configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        Disable(selectedPanel){\r\n            addClass(selectedPanel, configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        FocusIn(selectedPanel){\r\n            addClass(selectedPanel, configuration.selectedPanelFocusClass);\r\n        },\r\n    \r\n        FocusOut(selectedPanel){\r\n            removeClass(selectedPanel, configuration.selectedPanelFocusClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Bs4StylingMethodCss;","import  { ExtendIfUndefined } from './Tools';\r\n\r\nfunction defSelectedPanelStyle(e) \r\n{\r\n    e.style.marginBottom = 0;\r\n    e.style.height = 'auto';\r\n};\r\n\r\nconst bs4StylingMethodJsDefaults = {\r\n    selectedPanelDefMinHeight: 'calc(2.25rem + 2px)',\r\n    selectedPanelLgMinHeight:  'calc(2.875rem + 2px)',\r\n    selectedPanelSmMinHeight:  'calc(1.8125rem + 2px)',\r\n    selectedPanelDisabledBackgroundColor: '#e9ecef',\r\n    selectedPanelFocusBorderColor: '#80bdff',\r\n    selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)',\r\n    selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)',\r\n    selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',\r\n    filterInputColor: 'inherit', //'#495057',\r\n    filterInputFontWeight: 'inherit' //'#495057',\r\n};\r\n\r\nexport default function Bs4StylingMethodJs(configuration){\r\n    ExtendIfUndefined(configuration, bs4StylingMethodJsDefaults);\r\n\r\n    return {\r\n        OnInit(composite){\r\n            defSelectedPanelStyle(composite.selectedPanel)\r\n            composite.filterInput.style.color = configuration.filterInputColor;\r\n            composite.filterInput.style.fontWeight = configuration.filterInputFontWeight;\r\n        },\r\n    \r\n        Enable(selectedPanel){\r\n            selectedPanel.style.backgroundColor = \"\"\r\n        },\r\n    \r\n        Disable(selectedPanel){\r\n            selectedPanel.style.backgroundColor = configuration.selectedPanelDisabledBackgroundColor;\r\n        },\r\n    \r\n        FocusIn(selectedPanel){\r\n            if (selectedPanel.classList.contains(\"is-valid\")){\r\n                selectedPanel.style.boxShadow = configuration.selectedPanelFocusValidBoxShadow;\r\n            } else if (selectedPanel.classList.contains(\"is-invalid\")){\r\n                selectedPanel.style.boxShadow = configuration.selectedPanelFocusInvalidBoxShadow;\r\n            } else {\r\n                selectedPanel.style.boxShadow = configuration.selectedPanelFocusBoxShadow;\r\n                selectedPanel.style.borderColor = configuration.selectedPanelFocusBorderColor;\r\n            }\r\n        },\r\n    \r\n        FocusOut(selectedPanel){\r\n            selectedPanel.style.boxShadow = \"\";\r\n            selectedPanel.style.borderColor = \"\";\r\n        },\r\n    }\r\n}\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nimport  { addClass, removeClass } from './DomTools';\r\n\r\nconst MultiSelectÐ¡lassesDefaults = {\r\n    containerClass: 'dashboardcode-bsmultiselect',\r\n\r\n    dropDownMenuClass: 'dropdown-menu',\r\n\r\n    dropDownItemClass: 'px-2',\r\n    dropDownItemHoverClass: 'text-primary bg-light', // TODO looks like bullshit\r\n    dropDownItemSelectedClass: '', // not used? should be used in OptionsPanel.js\r\n    dropDownItemDisabledClass: '', // not used? should be used in OptionsPanel.js\r\n\r\n    selectedPanelClass: 'form-control',  \r\n    selectedPanelFocusClass: '', //  TODO: integrate with methodCss ('focus')\r\n    selectedPanelDisabledClass: '', // TODO: integrate with methodCss ('disabled')\r\n\r\n    selectedItemClass: 'badge',\r\n    selectedItemDisabledClass: '', // not used? should be used in PicksPanel.js\r\n    \r\n    removeSelectedItemButtonClass: 'close',\r\n    selectedItemFilterClass: '',\r\n    filterInputClass: ''\r\n}\r\n\r\n\r\nfunction Bs4Styling(stylingMethod, configuration) {\r\n    ExtendIfUndefined(configuration, MultiSelectÐ¡lassesDefaults);\r\n\r\n    return {\r\n        Init(composite){\r\n            addClass(composite.container, configuration.containerClass);\r\n            addClass(composite.selectedPanel, configuration.selectedPanelClass);\r\n            addClass(composite.dropDownMenu, configuration.dropDownMenuClass);\r\n            addClass(composite.filterInputItem, configuration.filterInputItemClass);\r\n            addClass(composite.filterInput, configuration.filterInputClass);\r\n            if (stylingMethod.OnInit)\r\n                stylingMethod.OnInit(composite)\r\n        },\r\n\r\n        Enable(composite){\r\n            removeClass(composite.selectedPanel, configuration.selectedPanelDisabledClass);\r\n            stylingMethod.Enable(composite.selectedPanel)\r\n        },\r\n\r\n        Disable(composite){\r\n            addClass(composite.selectedPanel, configuration.selectedPanelDisabledClass);\r\n            stylingMethod.Disable(composite.selectedPanel)\r\n        },\r\n\r\n        FocusIn(composite){\r\n            addClass(composite.selectedPanel, configuration.selectedPanelFocusClass);\r\n            stylingMethod.FocusIn(composite.selectedPanel)\r\n        },\r\n\r\n        FocusOut(composite){\r\n            removeClass(composite.selectedPanel, configuration.selectedPanelFocusClass);\r\n            stylingMethod.FocusOut(composite.selectedPanel)\r\n        },\r\n\r\n        HoverIn(dropDownItem){\r\n            addClass(dropDownItem, configuration.dropDownItemHoverClass);\r\n        },\r\n\r\n        HoverOut(dropDownItem){\r\n            removeClass(dropDownItem, configuration.dropDownItemHoverClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport {Bs4Styling, MultiSelectÐ¡lassesDefaults};","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst bs4StylingMethodCssdefaults = {\r\n    selectedItemContentDisabledClass: 'disabled'\r\n};\r\n\r\nfunction Bs4SelectedItemContentStylingMethodCss(configuration) {\r\n    ExtendIfUndefined(configuration, bs4StylingMethodCssdefaults);\r\n\r\n    return {\r\n        disableSelectedItemContent($content){\r\n            $content.addClass(configuration.selectedItemContentDisabledClass )\r\n        }\r\n    }\r\n}\r\n\r\nconst defSelectedItemStyle = {'padding-left': '0px', 'line-height': '1.5em'};\r\nconst defRemoveSelectedItemButtonStyle = {'font-size':'1.5em', 'line-height': '.9em'};\r\n\r\nconst bs4StylingMethodJsDefaults = {\r\n    selectedItemContentDisabledOpacity: '.65'\r\n };\r\n\r\nfunction Bs4SelectedItemContentStylingMethodJs(configuration) {\r\n    ExtendIfUndefined(configuration, bs4StylingMethodJsDefaults);\r\n    return {\r\n        disableSelectedItemContent($content){\r\n            $content.css(\"opacity\", configuration.selectedItemContentDisabledOpacity )\r\n        },\r\n    \r\n        createSelectedItemContent($selectedItem, $button){\r\n            $selectedItem.css(defSelectedItemStyle);\r\n            if ($button)\r\n                $button.css(defRemoveSelectedItemButtonStyle);\r\n        }\r\n    }\r\n}\r\n\r\nconst bs4SelectedItemContentDefaults = {\r\n    selectedItemClass: 'badge',\r\n    removeSelectedItemButtonClass: 'close'\r\n};\r\nfunction Bs4SelectedItemContent(stylingMethod, configuration, $) {\r\n    ExtendIfUndefined(configuration, bs4SelectedItemContentDefaults);\r\n    \r\n    return function (selectedItem, optionItem, removeSelectedItem){\r\n            let $selectedItem = $(selectedItem)\r\n            $selectedItem.addClass(configuration.selectedItemClass);\r\n            let $content = $(`<span/>`).text(optionItem.text);\r\n            $content.appendTo($selectedItem);\r\n            if (optionItem.disabled ){\r\n                stylingMethod.disableSelectedItemContent($content);\r\n            }\r\n\r\n            let $button = $('<button aria-label=\"Close\" tabIndex=\"-1\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>')\r\n                // bs 'close' class that will be added to button set the float:right, therefore it impossible to configure no-warp policy \r\n                // with .css(\"white-space\", \"nowrap\") or  .css(\"display\", \"inline-block\"); TODO: migrate to flex? \r\n                .css(\"float\", \"none\").appendTo($selectedItem)\r\n                .addClass(configuration.removeSelectedItemButtonClass) // bs close class set the float:right\r\n                .on(\"click\", \r\n                    jqEvent =>    \r\n                        removeSelectedItem(jqEvent.originalEvent)\r\n                    );\r\n            if (stylingMethod.createSelectedItemContent)\r\n                stylingMethod.createSelectedItemContent($selectedItem, $button);\r\n            return {\r\n                disable(isDisabled){ \r\n                    $button.prop('disabled', isDisabled); \r\n                },\r\n                dispose(){\r\n                    $button.unbind();\r\n                }\r\n            };\r\n        }\r\n}\r\n\r\nexport { Bs4SelectedItemContent as Bs4SelectedItemContent, Bs4SelectedItemContentStylingMethodJs, Bs4SelectedItemContentStylingMethodCss};","import  { ExtendIfUndefined} from './Tools';\r\n\r\nconst bs4StylingMethodCssDefaults = {\r\n    checkBoxDisabledClass: 'disabled',\r\n};\r\n\r\nfunction Bs4DropDownItemContentStylingMethodCss(configuration) {\r\n    ExtendIfUndefined(configuration, bs4StylingMethodCssDefaults);\r\n    return {\r\n        disabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n            if (isDisbaled) \r\n                $checkBox.addClass(configuration.checkBoxDisabledClass);\r\n            else\r\n                $checkBox.removeClass(configuration.checkBoxDisabledClass);\r\n        }\r\n    }\r\n}\r\n\r\nconst bs4StylingMethodJsDefaults = {\r\n    checkBoxLabelDisabledColor: '#6c757d'\r\n};\r\n\r\nfunction Bs4DropDownItemContentStylingMethodJs(configuration) {\r\n    ExtendIfUndefined(configuration, bs4StylingMethodJsDefaults);\r\n    return{\r\n        disabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n            $checkBoxLabel.css('color', isDisbaled?configuration.checkBoxLabelDisabledColor:'')\r\n        }\r\n    }\r\n}\r\n\r\nconst bs4DropDownItemContentDefaults = {\r\n    dropDownItemClass:  'px-2',\r\n}\r\n\r\nfunction Bs4DropDownItemContent(stylingMethod, configuration, $) {\r\n    ExtendIfUndefined(configuration, bs4DropDownItemContentDefaults);\r\n    return function(dropDownItem, option){\r\n        let $dropDownItem = $(dropDownItem);\r\n        $dropDownItem.addClass(configuration.dropDownItemClass);\r\n        let $dropDownItemContent= $(`<div class=\"custom-control custom-checkbox\">\r\n            <input type=\"checkbox\" class=\"custom-control-input\">\r\n            <label class=\"custom-control-label justify-content-start\"></label>\r\n        </div>`);\r\n        $dropDownItemContent.appendTo(dropDownItem);\r\n        let $checkBox = $dropDownItemContent.find(`INPUT[type=\"checkbox\"]`);\r\n        let $checkBoxLabel = $dropDownItemContent.find(`label`);\r\n        $checkBoxLabel.text(option.text);\r\n\r\n        var tmp = { \r\n            select(isSelected){ $checkBox.prop('checked', isSelected); }, \r\n            // --- distinct disable and disabledStyle to provide a possibility to unselect disabled option\r\n            disable(isDisabled){ $checkBox.prop('disabled', isDisabled); },\r\n            disabledStyle(isDisbaled){ stylingMethod.disabledStyle($checkBox, $checkBoxLabel, isDisbaled); },\r\n\r\n            onSelected(toggle) {\r\n                $checkBox.on(\"change\", toggle)\r\n                $dropDownItem.on(\"click\", event => {\r\n                    if (dropDownItem === event.target || $.contains(dropDownItem, event.target)) {\r\n                        toggle();\r\n                    }\r\n                })\r\n            },\r\n            dispose(){\r\n                $checkBox.unbind();\r\n                $dropDownItem.unbind();\r\n            }\r\n        }\r\n        \r\n        return tmp;\r\n    }\r\n}\r\n\r\nexport { Bs4DropDownItemContent, Bs4DropDownItemContentStylingMethodJs, Bs4DropDownItemContentStylingMethodCss };","import $ from 'jquery'\r\n\r\nimport MultiSelect from './MultiSelect'\r\nimport LabelAdapter from './LabelAdapter';\r\nimport {OptionsAdapterJson,OptionsAdapterElement} from './OptionsAdapters';\r\n\r\nimport Bs4StylingMethodCss from './Bs4StylingMethodCss'\r\nimport Bs4StylingMethodJs from './Bs4StylingMethodJs'\r\nimport {Bs4Styling, MultiSelectÐ¡lassesDefaults} from './Bs4Styling';\r\nimport AddToJQueryPrototype from './AddToJQueryPrototype'\r\n\r\nimport { Bs4SelectedItemContent, Bs4SelectedItemContentStylingMethodJs, Bs4SelectedItemContentStylingMethodCss} from './Bs4SelectedItemContent';\r\nimport { Bs4DropDownItemContent, Bs4DropDownItemContentStylingMethodJs, Bs4DropDownItemContentStylingMethodCss} from './Bs4DropDownItemContent';\r\nimport ContainerAdapter from './ContainerAdapter';\r\n\r\n\r\nfunction UpdateIsValid(selectedPanel, isValid, isInvalid){\r\n    if (isValid)\r\n        selectedPanel.classList.add('is-valid');\r\n    else\r\n        selectedPanel.classList.remove('is-valid');\r\n    \r\n    if (isInvalid)\r\n        selectedPanel.classList.add('is-invalid');\r\n    else\r\n        selectedPanel.classList.remove('is-invalid');\r\n}\r\n\r\nfunction UpdateSize(selectedPanel, size){\r\n        if (size==\"custom-select-lg\"){\r\n            selectedPanel.classList.add('form-control-lg');\r\n            selectedPanel.classList.remove('form-control-sm');\r\n        }\r\n        else if (size==\"custom-select-sm\"){\r\n            selectedPanel.classList.remove('form-control-lg');\r\n            selectedPanel.classList.add('form-control-sm');\r\n        }\r\n        else{\r\n            selectedPanel.classList.remove('form-control-lg');\r\n            selectedPanel.classList.remove('form-control-sm');\r\n        }\r\n}\r\n\r\nfunction UpdateSizeJs(selectedPanel, size, configuration){\r\n    UpdateSize(selectedPanel, size);\r\n    if (size==\"custom-select-lg\" || size==\"input-group-lg\"){\r\n        selectedPanel.style.minHeight=configuration.selectedPanelLgMinHeight;\r\n    } else if (size==\"custom-select-sm\" || size==\"input-group-sm\"){\r\n        selectedPanel.style.minHeight=configuration.selectedPanelSmMinHeight;\r\n    } else {\r\n        selectedPanel.style.minHeight=configuration.selectedPanelDefMinHeight;\r\n    }\r\n}\r\n\r\n\r\nfunction FindDirectChildByTagName(element, tagName){\r\n    var returnValue = null;\r\n    for (var i = 0; i<element.children.length;i++)\r\n    {\r\n        let tmp = element.children[i];\r\n        if (tmp.tagName==tagName)\r\n        {\r\n            returnValue = tmp;\r\n            break;\r\n        }\r\n    }\r\n    return returnValue;\r\n}\r\n\r\n(\r\n    (window, $) => {\r\n        // $.fn.bsMultiSelect.defaults. // TODO - set defaults parameters from there\r\n        var createPlugin = (element, settings, onDispose) => {\r\n            let configuration = $.extend({}, settings); // settings used per jQuery intialization, configuration per element\r\n            if (configuration.buildConfiguration)\r\n                configuration.buildConfiguration(element, configuration);\r\n            \r\n            let useCss = configuration.useCss;\r\n            let styling = configuration.styling;\r\n            if (!configuration.adapter)\r\n            {\r\n                let stylingMethod = configuration.stylingMethod;\r\n                if (!stylingMethod)\r\n                {\r\n                    if (useCss)\r\n                        stylingMethod = Bs4StylingMethodCss(configuration);\r\n                    else\r\n                        stylingMethod = Bs4StylingMethodJs(configuration);\r\n                }\r\n                styling = Bs4Styling(stylingMethod, configuration);\r\n            }\r\n\r\n            let optionsAdapter = null;\r\n            let containerAdapter = null;\r\n            if (configuration.optionsAdapter)\r\n                optionsAdapter = configuration.optionsAdapter;\r\n            else\r\n            {\r\n                var createElement = function(name){\r\n                    return window.document.createElement(name);\r\n                }\r\n                var trigger = function(eventName){\r\n                    $(element).trigger(eventName);\r\n                }\r\n                if (configuration.options){\r\n                    optionsAdapter = OptionsAdapterJson(\r\n                        configuration.options,\r\n                        configuration.getDisabled,\r\n                        configuration.getSize,\r\n                        configuration.getIsValid,\r\n                        configuration.getIsInvalid,\r\n                        trigger );\r\n                    if (!configuration.createInputId)\r\n                        configuration.createInputId = () => `${configuration.containerClass}-generated-filter-${element.id}`;\r\n                    // find direct child by tagName\r\n                    var picksElement = FindDirectChildByTagName(element, \"UL\");\r\n                    containerAdapter = ContainerAdapter(createElement, null, element, picksElement);\r\n                } \r\n                else  \r\n                {\r\n                    var selectElement = null;\r\n                    var containerElement = null;\r\n                    if (element.tagName==\"SELECT\")\r\n                        selectElement = element;\r\n                    else \r\n                    { \r\n                        selectElement = FindDirectChildByTagName(element, \"SELECT\");\r\n                        if (!selectElement)\r\n                            throw \"There are no SELECT element or options in the configuraion\";\r\n                        containerElement = element;\r\n                    }\r\n\r\n                    if (!containerElement && configuration.containerClass)\r\n                    {\r\n                        var $container = $(selectElement).closest('.'+configuration.containerClass);\r\n                        if ($container.length>0)\r\n                            containerElement =  $container.get(0);\r\n                    }\r\n\r\n                    if (!configuration.label)\r\n                    {\r\n                        let $formGroup = $(selectElement).closest('.form-group');\r\n                        if ($formGroup.length == 1) {\r\n                            let $label = $formGroup.find(`label[for=\"${selectElement.id}\"]`);\r\n                            if ($label.length>0)\r\n                            {   \r\n                                let label = $label.get(0);\r\n                                let forId = label.getAttribute('for');\r\n                                if (forId == selectElement.id) {\r\n                                    configuration.label = label;\r\n                                }\r\n                            }   \r\n                        }\r\n                    }\r\n                    var $form = $(selectElement).closest('form');\r\n                    var form = null;\r\n                    if ($form.length == 1) {\r\n                        form = $form.get(0);\r\n                    }\r\n                    \r\n                    if (!configuration.getDisabled) {\r\n                        var $fieldset = $(selectElement).closest('fieldset');\r\n                    \r\n                        if ($fieldset.length == 1) {\r\n                            var fieldset = $fieldset.get(0);\r\n                            configuration.getDisabled = () => selectElement.disabled || fieldset.disabled;\r\n                        }else{\r\n                            configuration.getDisabled = () => selectElement.disabled;\r\n                        }\r\n                    }\r\n\r\n                    if (!configuration.getSize) {\r\n                        configuration.getSize = function(){\r\n                            var value=null;\r\n                            if (selectElement.classList.contains('custom-select-lg') || selectElement.classList.contains('form-control-lg') )\r\n                                value='custom-select-lg';\r\n                            else if (selectElement.classList.contains('custom-select-sm')  || selectElement.classList.contains('form-control-sm')  )\r\n                                value='custom-select-sm';\r\n                            else if (containerElement && containerElement.classList.contains('input-group-lg'))\r\n                                value='input-group-lg';\r\n                            else if (containerElement && containerElement.classList.contains('input-group-sm'))\r\n                                value='input-group-sm';\r\n                            return value;\r\n                        }\r\n                    }\r\n                    if (!configuration.getIsValid) {\r\n                        configuration.getIsValid = function()\r\n                        { return selectElement.classList.contains('is-valid')}\r\n                    }\r\n                    if (!configuration.getIsInvalid) {\r\n                        configuration.getIsInvalid = function()\r\n                        { return selectElement.classList.contains('is-invalid')}\r\n                    }\r\n                    optionsAdapter = OptionsAdapterElement(selectElement, configuration.getDisabled, \r\n                        configuration.getSize, \r\n                        configuration.getIsValid, configuration.getIsInvalid,\r\n                        trigger, form);\r\n\r\n                    if (!configuration.createInputId)\r\n                        configuration.createInputId = () => `${configuration.containerClass}-generated-input-${((selectElement.id)?selectElement.id:selectElement.name).toLowerCase()}-id`;\r\n\r\n                    \r\n                    var picksElement = null;\r\n                    if (containerElement)\r\n                        picksElement = FindDirectChildByTagName(containerElement, \"UL\");\r\n                    containerAdapter = ContainerAdapter(createElement, selectElement, containerElement, picksElement);\r\n                    \r\n                }\r\n            }\r\n            let labelAdapter = LabelAdapter(configuration.label, configuration.createInputId);\r\n\r\n            let selectedItemContent = configuration.selectedItemContent;\r\n            if (!selectedItemContent){\r\n                let selectedItemContentStylingMethod = configuration.selectedItemContentStylingMethod;\r\n                if (!selectedItemContentStylingMethod)\r\n                {\r\n                    if (useCss)\r\n                        selectedItemContentStylingMethod=Bs4SelectedItemContentStylingMethodCss(configuration, $);\r\n                    else\r\n                        selectedItemContentStylingMethod=Bs4SelectedItemContentStylingMethodJs(configuration, $);\r\n                }\r\n                selectedItemContent = Bs4SelectedItemContent(selectedItemContentStylingMethod, configuration, $);\r\n            }\r\n\r\n            let dropDownItemContent = configuration.bs4DropDownItemContent;\r\n            if (!dropDownItemContent){\r\n                let dropDownItemContentStylingMethod = configuration.dropDownItemContentStylingMethod;\r\n                if (useCss)\r\n                    dropDownItemContentStylingMethod=Bs4DropDownItemContentStylingMethodCss(configuration, $);\r\n                else\r\n                    dropDownItemContentStylingMethod=Bs4DropDownItemContentStylingMethodJs(configuration, $);\r\n                dropDownItemContent = Bs4DropDownItemContent(dropDownItemContentStylingMethod, configuration, $)\r\n            }\r\n\r\n            let createStylingComposite = function(container, selectedPanel, placeholderItemElement, filterInputItem, filterInput, dropDownMenu){\r\n                return {\r\n                    container: container,\r\n                    selectedPanel: selectedPanel,\r\n                    filterInputItem: filterInputItem,\r\n                    filterInput: filterInput,\r\n                    dropDownMenu: dropDownMenu,\r\n                    \r\n                    $container:$(container),\r\n                    $selectedPanel:$(selectedPanel),\r\n                    $placeholderItem:placeholderItemElement?$(placeholderItemElement):null,\r\n                    $filterInputItem:$(filterInputItem),\r\n                    $filterInput:$(filterInput),\r\n                    $dropDownMenu:$(dropDownMenu)\r\n                };\r\n            }\r\n            var placeholderText = configuration.placeholder;\r\n            if (!placeholderText)\r\n            {\r\n                if (selectElement)\r\n                    placeholderText = $(selectElement).data(\"bsmultiselect-placeholder\");\r\n                else if (containerElement)                 \r\n                    placeholderText = $(containerElement).data(\"bsmultiselect-placeholder\");\r\n            }\r\n            \r\n            let setSelected = configuration.setSelected;\r\n            if (!setSelected){\r\n                setSelected = (option, value)=> { option.selected = value;}\r\n            }\r\n            var updateSize = null;\r\n            if(configuration.useCss) {\r\n                updateSize = () => UpdateSize(containerAdapter.picksElement, optionsAdapter.getSize() );\r\n            } else {\r\n                updateSize = () => UpdateSizeJs(containerAdapter.picksElement, optionsAdapter.getSize(), configuration );\r\n            };\r\n\r\n            var updateIsValid = () => UpdateIsValid(containerAdapter.picksElement,  optionsAdapter.getIsValid(), optionsAdapter.getIsInvalid() )\r\n\r\n            var onUpdate = () => {\r\n                updateSize();\r\n                updateIsValid();\r\n            }\r\n\r\n            let multiSelect = new MultiSelect(\r\n                optionsAdapter,\r\n                setSelected,\r\n                containerAdapter,\r\n                styling,\r\n                selectedItemContent,\r\n                dropDownItemContent,\r\n                labelAdapter,\r\n                createStylingComposite,\r\n                placeholderText,\r\n                configuration,\r\n                onUpdate,\r\n                onDispose,\r\n                window);\r\n            \r\n            multiSelect.UpdateSize = updateSize;\r\n            multiSelect.UpdateIsValid = updateIsValid;\r\n            \r\n            if (configuration.init)\r\n                configuration.init(element, multiSelect);\r\n            \r\n            multiSelect.init();\r\n\r\n            return multiSelect;\r\n        };\r\n        var defaults = {\r\n            classes: MultiSelectÐ¡lassesDefaults\r\n        };\r\n        AddToJQueryPrototype('BsMultiSelect', createPlugin, defaults, $);\r\n    }\r\n)(window, $)\r\n","/*\r\n// 1\r\n<select name=\"States1\" id=\"edit-states1-id\" class=\"form-control\" \r\n        multiple=\"multiple\" style=\"display: none;\"> <!-- plugin element-->\r\n                <option value=\"AL\">Alabama</option>\r\n                <option value=\"AK\" disabled=\"\">Alaska</option>\r\n</select>\r\n\r\n// 2\r\n<div class=\"dashboardcode-bsmultiselect\"> \r\n    <div class=\"input-group\" >\r\n        <div class=\"input-group-prepend\">\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n        </div>\r\n\r\n        <select name=\"States1\" id=\"edit-states1-id\" class=\"form-control\"\r\n            multiple=\"multiple\" style=\"display: none;\">  <!-- plugin element-->\r\n                <option value=\"AL\">Alabama</option>\r\n                <option value=\"AK\" disabled=\"\">Alaska</option>\r\n        </select>\r\n\r\n        <ul class=\"form-control\"></ul> <!-- optional - for \"no flick\" -->\r\n    </div>\r\n</div>\r\n\r\n// 2\r\n<div></div> \r\n\r\n// 3\r\n<div class=\"dashboardcode-bsmultiselect\">\r\n    <div class=\"input-group\" >\r\n        <div class=\"input-group-prepend\">\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n        </div>\r\n\r\n        <ul class=\"form-control\"></ul> <!-- json plugin key element -->\r\n    </div>\r\n</div>\r\n*/\r\n\r\nexport default function ContainerAdapter(createElement, selectElement, containerElement, picksElement) { // select\r\n    var ownContainerElement = false;\r\n    var ownPicksElement = false;\r\n    \r\n    if (!containerElement){\r\n        containerElement = createElement('div');\r\n        ownContainerElement= true;\r\n    }\r\n    if (!picksElement){\r\n        picksElement = createElement('UL');\r\n        ownPicksElement = true;\r\n    }\r\n\r\n    var optionsElement = createElement('UL');\r\n    optionsElement.style.display=\"none\";\r\n    \r\n    var backupDisplay = null;\r\n    if (selectElement)\r\n    { \r\n        backupDisplay = selectElement.style.display;\r\n        selectElement.style.display='none';\r\n    }\r\n    \r\n    return {\r\n        container: containerElement,\r\n        picksElement,\r\n        optionsElement,\r\n        init(){\r\n            if (ownPicksElement)\r\n                containerElement.appendChild(picksElement);\r\n        },\r\n        appendToContainer(){\r\n            if (ownContainerElement || !selectElement)            \r\n            {\r\n                if (ownPicksElement)\r\n                    containerElement.appendChild(picksElement);\r\n                containerElement.appendChild(optionsElement);\r\n            }\r\n            else\r\n            {\r\n                if (selectElement)\r\n                {\r\n                    selectElement.parentNode.insertBefore(optionsElement, selectElement.nextSibling);\r\n                    if (ownPicksElement)\r\n                        selectElement.parentNode.insertBefore(picksElement, optionsElement);\r\n                }\r\n            }\r\n        },\r\n        attachContainer(){\r\n            if (ownContainerElement)\r\n                selectElement.parentNode.insertBefore(containerElement, selectElement.nextSibling);\r\n        },\r\n        dispose(){\r\n            if (ownContainerElement)\r\n                containerElement.parentNode.removeChild(containerElement);\r\n            if (ownPicksElement)\r\n                picksElement.parentNode.removeChild(picksElement);\r\n            optionsElement.parentNode.removeChild(optionsElement);\r\n            if (selectElement)\r\n                selectElement.style.display = backupDisplay;\r\n        }\r\n    }\r\n}","function AddToJQueryPrototype(pluginName, createPlugin, defaults, $){\r\n    const firstChar = pluginName.charAt(0);\r\n    const firstCharLower = firstChar.toLowerCase();\r\n    if (firstCharLower == firstChar) {\r\n        throw new TypeError(`Plugin name '${pluginName}' should be started from upper case char`)\r\n    }\r\n    const prototypableName = firstCharLower + pluginName.slice(1)\r\n    const noConflictPrototypable = $.fn[prototypableName];\r\n    const dataKey = `DashboardCode.${pluginName}`;\r\n\r\n    function prototypable(options) {\r\n        return this.each( function () {\r\n            let $e = $(this);\r\n            let instance = $e.data(dataKey)\r\n            let isMethodName = typeof options === 'string';\r\n            if (!instance) {\r\n                if (isMethodName && /Dispose/.test(options)) {\r\n                    return;\r\n                }\r\n                const optionsObject = (typeof options === 'object')?options:null;\r\n\r\n                instance = createPlugin(this, optionsObject,\r\n                    () => {\r\n                        $e.removeData(dataKey)\r\n                    });\r\n                $e.data(dataKey, instance);\r\n            }\r\n\r\n            if (isMethodName) {\r\n                let methodName = options;\r\n                if (typeof instance[methodName] === 'undefined') {\r\n                    throw new TypeError(`No method named '${methodName}'`)\r\n                }\r\n                instance[methodName]()\r\n            }\r\n        })\r\n    }\r\n\r\n    $.fn[prototypableName] = prototypable;\r\n\r\n    // pluginName with first capitalized letter - return plugin instance (for 1st $selected item)\r\n    $.fn[pluginName] = function () {\r\n        return $(this).data(dataKey);\r\n    };\r\n\r\n    $.fn[prototypableName].noConflict = function () {\r\n        $.fn[prototypableName] = noConflictPrototypable\r\n        return prototypable;\r\n    }\r\n\r\n    $.fn[prototypableName].defaults = defaults;\r\n}\r\n\r\nexport default AddToJQueryPrototype;","function OptionsAdapterElement(selectElement, getDisabled, getSize, getIsValid, getIsInvalid, trigger, form) {\r\n    var backup;\r\n    return {\r\n        getOptions(){\r\n            return selectElement.getElementsByTagName('OPTION')\r\n        },\r\n        triggerChange(){\r\n            trigger('change')\r\n            trigger('multiselect:change')\r\n        },\r\n        getDisabled,\r\n        getSize,\r\n        getIsValid,\r\n        getIsInvalid,\r\n        subscribeToReset(handler){\r\n            backup = handler;\r\n            if (form)\r\n                form.addEventListener('reset', backup)\r\n        },\r\n        dispose(){\r\n            if (form && backup)\r\n                form.removeEventListener('reset', backup)\r\n        }\r\n    }\r\n}\r\n\r\nfunction OptionsAdapterJson(options, getDisabled, getSize, getIsValid, getIsInvalid, trigger) {\r\n    return {\r\n        getOptions(){\r\n            return options\r\n        },\r\n        triggerChange(){\r\n            trigger('multiselect:change')\r\n        },\r\n        getDisabled(){\r\n            return getDisabled?getDisabled():false\r\n        },\r\n        getSize(){\r\n            return getSize?getSize():null\r\n        },\r\n        getIsValid(){\r\n            return getIsValid?getIsValid():false\r\n        },\r\n        getIsInvalid(){\r\n            return getIsInvalid?getIsInvalid():false\r\n        }\r\n    }\r\n}\r\n\r\nexport {OptionsAdapterJson, OptionsAdapterElement}","function LabelAdapter(label, createInputId){\r\n    var backupedFor = null; // state saved between init and dispose\r\n    return {\r\n        init(filterInput) {\r\n            if (label) {\r\n                backupedFor = label.getAttribute('for');\r\n                var newId = createInputId();\r\n                filterInput.setAttribute('id', newId);\r\n                label.setAttribute('for',newId);\r\n            }\r\n        },\r\n        dispose(){\r\n            if(backupedFor)\r\n                label.setAttribute('for',backupedFor);\r\n        }\r\n    }\r\n}\r\n\r\nexport default LabelAdapter;"]}